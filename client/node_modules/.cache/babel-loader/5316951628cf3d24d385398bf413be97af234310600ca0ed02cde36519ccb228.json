{"ast":null,"code":"import _objectSpread from\"C:/Users/nirg/Desktop/spring/cuoponProject/cuoponProject/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/nirg/Desktop/spring/cuoponProject/cuoponProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateCompany(props){var _useState=useState({id:0,name:'',email:'',password:0,coupons:[]}),_useState2=_slicedToArray(_useState,2),company=_useState2[0],setCompany=_useState2[1];var updateCompany=function updateCompany(event){event.preventDefault();// prevent page refresh\nconsole.log(props.token);fetch('http://localhost:8080/admin/customer/update',{//move to env var\nmethod:'POST',headers:{Authorization:props.token,'Content-Type':'application/json'},mode:'cors',body:JSON.stringify(company)}).catch(function(error){return console.log(error);});//send to logs instead of prnting to console\n};return/*#__PURE__*/_jsx(\"div\",{className:\"UpdateCompany\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"ID: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"id\",value:company.id,onChange:function onChange(event){return setCompany(function(prev){return _objectSpread(_objectSpread({},prev),{},{id:event.target.value});});}}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"label\",{children:\"Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"name\",value:company.name,onChange:function onChange(event){return setCompany(function(prev){return _objectSpread(_objectSpread({},prev),{},{name:event.target.value});});}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Email: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:company.email,onChange:function onChange(event){return setCompany(function(prev){return _objectSpread(_objectSpread({},prev),{},{email:event.target.value});});}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:company.password,onChange:function onChange(event){return setCompany(function(prev){return _objectSpread(_objectSpread({},prev),{},{password:event.target.value});});}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:updateCompany,children:\"Update\"})]})});}export default UpdateCompany;","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","UpdateCompany","props","_useState","id","name","email","password","coupons","_useState2","_slicedToArray","company","setCompany","updateCompany","event","preventDefault","console","log","token","fetch","method","headers","Authorization","mode","body","JSON","stringify","catch","error","className","children","type","value","onChange","prev","_objectSpread","target","onClick"],"sources":["C:/Users/nirg/Desktop/spring/cuoponProject/cuoponProject/client/src/Components/Admin/UpdateCustomer.tsx"],"sourcesContent":["\r\nimport { Company } from '../../Entitis.type';\r\nimport { useState } from 'react';\r\n\r\n\r\ninterface Props {\r\n  token: string;\r\n}\r\n\r\nfunction UpdateCompany(props: Props): JSX.Element {\r\n\r\n  \r\n  const [company, setCompany] = useState<Company>({ id:0, name: '', email: '',password:0,coupons:[] }); \r\n\r\n  const updateCompany =(event: React.MouseEvent): void => {\r\n      event.preventDefault(); // prevent page refresh\r\n      console.log(props.token);\r\n\r\n      fetch('http://localhost:8080/admin/customer/update', { //move to env var\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: props.token,\r\n          'Content-Type': 'application/json',\r\n        },\r\n        mode: 'cors',\r\n        body: JSON.stringify(company),\r\n      }).catch((error) => console.log(error));//send to logs instead of prnting to console\r\n      }\r\n\r\n  return (\r\n    <div className=\"UpdateCompany\">\r\n      <form>{/*const fields = [{label:\"id\", value:company[\"id\"],onChnage=()=>{}}]\r\n       or use react-hook-form\r\n      */}\r\n        <label>ID: </label>\r\n        <input type=\"id\" value={company.id} onChange={(event) => setCompany((prev: any) => ({ ...prev, id: event.target.value }))} /><br/> {/*<br> is an anti pattern */}\r\n        <label>Name: </label>\r\n        <input type=\"name\" value={company.name} onChange={(event) => setCompany((prev: any) => ({ ...prev, name: event.target.value }))} /><br/>\r\n        <label>Email: </label>\r\n        <input type=\"email\" value={company.email} onChange={(event) => setCompany((prev: any) => ({ ...prev, email: event.target.value }))} /><br/>\r\n        <label>Password: </label>\r\n        <input type=\"password\" value={company.password} onChange={(event) => setCompany((prev: any) => ({ ...prev, password: event.target.value }))} /><br/>\r\n        <button type=\"button\" onClick={updateCompany}>Update</button>\r\n      </form>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UpdateCompany;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}