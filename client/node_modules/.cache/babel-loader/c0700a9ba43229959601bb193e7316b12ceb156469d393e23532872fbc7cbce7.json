{"ast":null,"code":"import _slicedToArray from\"C:/Users/nirg/Desktop/spring/cuoponProject/cuoponProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CompanyGetAllCoupons=function CompanyGetAllCoupons(props){var url='http://localhost:8080/company/getCoupons?companyId='+props.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),coupons=_useState2[0],setCoupons=_useState2[1];console.log(props.token);useEffect(function(){fetch(url,{method:'GET',headers:{Authorization:props.token,'Content-Type':'application/json'},mode:'cors'}).then(function(res){return res.json();}).then(function(data){setCoupons(data);console.log(data);// log response data to console\n}).catch(function(error){return console.log(error);});},[coupons]);return/*#__PURE__*/_jsx(\"div\",{className:\"getAllCompanys\",children:coupons.map(function(coupon){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"tr\",{className:\"coupon\"},coupon.id),/*#__PURE__*/_jsx(\"td\",{children:coupon.id}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"td\",{children:coupon.category}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"td\",{children:coupon.price}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"td\",{children:coupon.amount}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"td\",{children:coupon.endDate}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"td\",{children:coupon.image}),/*#__PURE__*/_jsx(\"br\",{})]});})});};export default CompanyGetAllCoupons;","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","CompanyGetAllCoupons","props","url","id","_useState","_useState2","_slicedToArray","coupons","setCoupons","console","log","token","fetch","method","headers","Authorization","mode","then","res","json","data","catch","error","className","children","map","coupon","category","price","amount","endDate","image"],"sources":["C:/Users/nirg/Desktop/spring/cuoponProject/cuoponProject/client/src/Components/Company/CompanyGetAllCoupons.tsx"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { Coupon } from '../../Entitis.type';\r\n\r\ninterface Props {\r\n  token: string | undefined\r\n  id: number | undefined\r\n}\r\nconst CompanyGetAllCoupons = (props: Props) => {\r\n  const url = 'http://localhost:8080/company/getCoupons?companyId=' + props.id;\r\n\r\n  const [coupons, setCoupons] = useState<Array<Coupon>>([]);\r\n\r\n  console.log(props.token);\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      url,\r\n      {\r\n        method: 'GET',\r\n        headers: {\r\n          Authorization: props.token!,\r\n          'Content-Type': 'application/json',\r\n        },\r\n        mode: 'cors',\r\n      }\r\n    ).then((res) => res.json()).then((data) => {\r\n      setCoupons(data);\r\n      console.log(data); // log response data to console\r\n    }).catch((error) => console.log(error))\r\n  }, [coupons])\r\n\r\n  return (\r\n    <div className='getAllCompanys'>\r\n      {\r\n        coupons.map((coupon) => {\r\n          return (\r\n            <>\r\n              <tr key={coupon.id} className='coupon'></tr>\r\n              <td>{coupon.id}</td><br />\r\n              <td>{coupon.category}</td><br />\r\n              <td>{coupon.price}</td><br />\r\n              <td>{coupon.amount}</td><br />\r\n              <td>{coupon.endDate}</td><br />\r\n              <td>{coupon.image}</td><br />\r\n            </>\r\n            )\r\n        }\r\n\r\n        )}\r\n    </div>\r\n  )\r\n}\r\nexport default CompanyGetAllCoupons"],"mappings":"qJAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAO3C,GAAM,CAAAC,oBAAoB,CAAG,QAAvB,CAAAA,oBAAoBA,CAAIC,KAAY,CAAK,CAC7C,GAAM,CAAAC,GAAG,CAAG,qDAAqD,CAAGD,KAAK,CAACE,EAAE,CAE5E,IAAAC,SAAA,CAA8BX,QAAQ,CAAgB,EAAE,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlDG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAE1BI,OAAO,CAACC,GAAG,CAACT,KAAK,CAACU,KAAK,CAAC,CAExBnB,SAAS,CAAC,UAAM,CACdoB,KAAK,CACHV,GAAG,CACH,CACEW,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACPC,aAAa,CAAEd,KAAK,CAACU,KAAM,CAC3B,cAAc,CAAE,kBAClB,CAAC,CACDK,IAAI,CAAE,MACR,CAAC,CACF,CAACC,IAAI,CAAC,SAACC,GAAG,QAAK,CAAAA,GAAG,CAACC,IAAI,EAAE,GAAC,CAACF,IAAI,CAAC,SAACG,IAAI,CAAK,CACzCZ,UAAU,CAACY,IAAI,CAAC,CAChBX,OAAO,CAACC,GAAG,CAACU,IAAI,CAAC,CAAE;AACrB,CAAC,CAAC,CAACC,KAAK,CAAC,SAACC,KAAK,QAAK,CAAAb,OAAO,CAACC,GAAG,CAACY,KAAK,CAAC,GAAC,CACzC,CAAC,CAAE,CAACf,OAAO,CAAC,CAAC,CAEb,mBACEZ,IAAA,QAAK4B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAE3BjB,OAAO,CAACkB,GAAG,CAAC,SAACC,MAAM,CAAK,CACtB,mBACE3B,KAAA,CAAAF,SAAA,EAAA2B,QAAA,eACE7B,IAAA,OAAoB4B,SAAS,CAAC,QAAQ,EAA7BG,MAAM,CAACvB,EAAE,CAA0B,cAC5CR,IAAA,OAAA6B,QAAA,CAAKE,MAAM,CAACvB,EAAE,EAAM,cAAAR,IAAA,SAAM,cAC1BA,IAAA,OAAA6B,QAAA,CAAKE,MAAM,CAACC,QAAQ,EAAM,cAAAhC,IAAA,SAAM,cAChCA,IAAA,OAAA6B,QAAA,CAAKE,MAAM,CAACE,KAAK,EAAM,cAAAjC,IAAA,SAAM,cAC7BA,IAAA,OAAA6B,QAAA,CAAKE,MAAM,CAACG,MAAM,EAAM,cAAAlC,IAAA,SAAM,cAC9BA,IAAA,OAAA6B,QAAA,CAAKE,MAAM,CAACI,OAAO,EAAM,cAAAnC,IAAA,SAAM,cAC/BA,IAAA,OAAA6B,QAAA,CAAKE,MAAM,CAACK,KAAK,EAAM,cAAApC,IAAA,SAAM,GAC5B,CAEP,CAAC,CAEA,EACC,CAEV,CAAC,CACD,cAAe,CAAAK,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}