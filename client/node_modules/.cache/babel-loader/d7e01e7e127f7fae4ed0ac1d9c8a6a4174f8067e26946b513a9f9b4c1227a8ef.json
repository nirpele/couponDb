{"ast":null,"code":"import _slicedToArray from\"C:/Users/nirg/Desktop/spring/cuoponProject/cuoponProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";//DONE!\nvar CompanyGetDetails=function CompanyGetDetails(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),company=_useState2[0],setCompany=_useState2[1];console.log(props.token);useEffect(function(){fetch('http://localhost:8080/company/getDetails?companyId='+props.id,{method:'GET',headers:{'Authorization':props.token,'Content-Type':'application/json'},mode:'cors'}).then(function(res){return res.json();}).then(function(data){setCompany(data);console.log(data);// log response data to console\n}).catch(function(error){return console.log(error);});},[]);// add empty array to run useEffect only once on component mount\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"getAllCompanys\",children:/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:company===null||company===void 0?void 0:company.id}),/*#__PURE__*/_jsx(\"td\",{children:company===null||company===void 0?void 0:company.name}),/*#__PURE__*/_jsx(\"td\",{children:company===null||company===void 0?void 0:company.email})]}),company===null||company===void 0?void 0:company.coupons.map(function(coupon){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:coupon.id}),/*#__PURE__*/_jsx(\"td\",{children:coupon.category}),/*#__PURE__*/_jsx(\"td\",{children:coupon.price}),/*#__PURE__*/_jsx(\"td\",{children:coupon.amount}),/*#__PURE__*/_jsx(\"td\",{children:coupon.endDate}),/*#__PURE__*/_jsx(\"td\",{children:coupon.image})]},coupon.id);})]})})});};export default CompanyGetDetails;","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","jsxs","_jsxs","CompanyGetDetails","props","_useState","_useState2","_slicedToArray","company","setCompany","console","log","token","fetch","id","method","headers","mode","then","res","json","data","catch","error","className","children","name","email","coupons","map","coupon","category","price","amount","endDate","image"],"sources":["C:/Users/nirg/Desktop/spring/cuoponProject/cuoponProject/client/src/Components/Company/CompanyGetDetails.tsx"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { Company } from '../../Entitis.type';\r\ninterface Props {\r\n  token: string | undefined\r\n  id: number | undefined\r\n}\r\n//DONE!\r\nconst CompanyGetDetails = (props: Props) => {\r\n  const [company, setCompany] = useState<Company>();\r\n  console.log(props.token);\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:8080/company/getDetails?companyId=' + props.id, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': props.token!,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      mode: 'cors'\r\n    }).then((res) => res.json()).then((data) => {\r\n      setCompany(data)\r\n      console.log(data); // log response data to console\r\n    }).catch((error) => console.log(error));\r\n  }, []); // add empty array to run useEffect only once on component mount\r\n\r\n  return (\r\n    <div className='getAllCompanys'>\r\n      <table>\r\n        <tbody>\r\n          <tr>\r\n            <td>{company?.id}</td>\r\n            <td>{company?.name}</td>\r\n            <td>{company?.email}</td>\r\n          </tr>\r\n          {company?.coupons.map((coupon) => (\r\n            <tr key={coupon.id}>\r\n              <td>{coupon.id}</td>\r\n              <td>{coupon.category}</td>\r\n              <td>{coupon.price}</td>\r\n              <td>{coupon.amount}</td>\r\n              <td>{coupon.endDate}</td>\r\n              <td>{coupon.image}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\nexport default CompanyGetDetails;"],"mappings":"qJAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAM3C;AACA,GAAM,CAAAC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,KAAY,CAAK,CAC1C,IAAAC,SAAA,CAA8BP,QAAQ,EAAW,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1CG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1BI,OAAO,CAACC,GAAG,CAACP,KAAK,CAACQ,KAAK,CAAC,CAExBf,SAAS,CAAC,UAAM,CACdgB,KAAK,CAAC,qDAAqD,CAAGT,KAAK,CAACU,EAAE,CAAE,CACtEC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,eAAe,CAAEZ,KAAK,CAACQ,KAAM,CAC7B,cAAc,CAAE,kBAClB,CAAC,CACDK,IAAI,CAAE,MACR,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,GAAG,QAAK,CAAAA,GAAG,CAACC,IAAI,EAAE,GAAC,CAACF,IAAI,CAAC,SAACG,IAAI,CAAK,CAC1CZ,UAAU,CAACY,IAAI,CAAC,CAChBX,OAAO,CAACC,GAAG,CAACU,IAAI,CAAC,CAAE;AACrB,CAAC,CAAC,CAACC,KAAK,CAAC,SAACC,KAAK,QAAK,CAAAb,OAAO,CAACC,GAAG,CAACY,KAAK,CAAC,GAAC,CACzC,CAAC,CAAE,EAAE,CAAC,CAAE;AAER,mBACEvB,IAAA,QAAKwB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BzB,IAAA,UAAAyB,QAAA,cACEvB,KAAA,UAAAuB,QAAA,eACEvB,KAAA,OAAAuB,QAAA,eACEzB,IAAA,OAAAyB,QAAA,CAAKjB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEM,EAAE,EAAM,cACtBd,IAAA,OAAAyB,QAAA,CAAKjB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEkB,IAAI,EAAM,cACxB1B,IAAA,OAAAyB,QAAA,CAAKjB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEmB,KAAK,EAAM,GACtB,CACJnB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEoB,OAAO,CAACC,GAAG,CAAC,SAACC,MAAM,qBAC3B5B,KAAA,OAAAuB,QAAA,eACEzB,IAAA,OAAAyB,QAAA,CAAKK,MAAM,CAAChB,EAAE,EAAM,cACpBd,IAAA,OAAAyB,QAAA,CAAKK,MAAM,CAACC,QAAQ,EAAM,cAC1B/B,IAAA,OAAAyB,QAAA,CAAKK,MAAM,CAACE,KAAK,EAAM,cACvBhC,IAAA,OAAAyB,QAAA,CAAKK,MAAM,CAACG,MAAM,EAAM,cACxBjC,IAAA,OAAAyB,QAAA,CAAKK,MAAM,CAACI,OAAO,EAAM,cACzBlC,IAAA,OAAAyB,QAAA,CAAKK,MAAM,CAACK,KAAK,EAAM,GANhBL,MAAM,CAAChB,EAAE,CAOb,EACN,CAAC,GACI,EACF,EACJ,CAEV,CAAC,CACD,cAAe,CAAAX,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}